---
title: "Gas and Fees"
---

## Gas

When executing smart contracts, the EVM requires the amount of work paid in gas. The ‚Äúwork‚Äù includes computation, state transitions, and storage. Gas is the unit of measurement used to charge a fee per opcode executed by the EVM. Each opcode code has a defined gas cost. Gas reflects the cost necessary to pay for the computational resources used to process transactions.

<Note>
**Note**

Following HIP-1249, Hedera has replaced gas‚Äëper‚Äësecond throttling with an operations‚Äëper‚Äësecond (ops/sec) throttle and removed minimum gas charges. Gas is still used to bill users, but throttling now depends on measured ops rather than gas.

</Note>

### **Weibar**

Gas information for EVM operations is returned in **weibar** (introduced in HIP-410).

- 1 weibar = `10^-18 HBAR`
- 1 tinybar = `10^10 weibar`

As noted in [HIP-410](https://hips.hedera.com/hip/hip-410), this maximizes compatibility with third-party tools that expect ether units to be operated on in fractions of `10^18`, also known as a Wei.

## **Gas Schedule and Fee Calculation**

Gas charges apply to `ContractCall`, `ContractCreate`, and `EthereumTransaction`. Other smart contract-related transactions (e.g., `ContractDelete`, `ContractGetInfo`) use standard Hedera network, node, and service fees in HBAR.

Gas fees for EVM transactions constist of:

- **Intrinsic Gas**: The minimum amount of gas required to execute a transaction.
- **EVM opcode Gas**: The gas required to execute the defined [opcodes](/hedera/support-and-community/glossary#opcodes) for the smart contract call.
- **Hedera System Contract Gas**: The required gas that is associated with a Hedera-defined transaction, like using the Hedera Token Service system contract that allows you to burn (`TokenBurnTransaction`) or mint (`TokenMintTransaction`) a token.

### Intrinsic Gas

A transaction submitted to the smart contract service must be sent with enough gas to cover intrinsic gas. With the Cancun fork of the EVM update, intrinsic gas is calculated as:

```bash theme={null}
21000 + 4 x (number of zeros bytes) + 16 x (number of non-zeros bytes)= intrinsic gas
```

- **21,000**: The base gas cost for any transaction.
- **4 x (zero bytes)**: The cost of each zero byte in the transaction payload.
- **16 x (number of non-zero bytes)**: The cost for each non-zero byte in the transaction payload.

If insufficient gas is submitted, the transaction will fail during precheck and no record will be created.

<Note>
**Note**

This applies to both **standard transactions** and **jumbo EthereumTransactions** introduced by HIP-1086, which allow larger `callData` payloads.

</Note>

### **EVM Opcode Gas**

Execution costs in the EVM include both fixed and dynamic costs:

- **Fixed Cost**: Base cost per opcode execution.
- **Dynamic Cost**: Varies by parameters (e.g., cold vs warm storage access).

**Example**: For the `SLOAD` opcode, which loads data from storage:

- **Fixed Cost**: 100 gas units (base cost per execution)
- **Dynamic Cost (Cold Access)**: 2,100 gas units (first-time access to the storage slot)
- **Dynamic Cost (Warm Access)**: 100 gas units (subsequent access within the transaction)

If `SLOAD` accesses a storage slot twice within the same transaction, the **total gas cost** would be calculated as follows:

1. **First Access (Cold)** = 100 + 2,100 = 2,200 gas
2. **Second Access (Warm)** = 100 + 100 = 200 gas
3. **Final Gas Cost Total = 2,200 + 200 = 2,400 gas**

_üì£ Explore_ [_opcodes in Cancun fork_](https://www.evm.codes/)_._

### **Hedera System Contract Gas**

Hedera system contract gas fees apply only when using a native Hedera service. They are calculated by converting the transaction cost in USD to gas using a set conversion rat, then adding 20% surcharge was added for overhead and variations in gas usage.

**Example**: For a \$0.10 transaction with a conversion rate of 1,000,000 gas per USD:

- **Base Gas Cost** = 0.10 √ó 1,000,000 = 100,000 gas
- **Total Gas Cost** = 100,000 √ó 1.2 = **120,000 gas**

**Final gas cost total** = **120,000 gas**

### System Contract View Functions

The gas requirements for HTS view functions can be calculated in a slightly modified manner. The transaction type of `getTokenInfo` can be used and a nominal price need not be calculated. This implies that converting the fee into HBAR is not necessary as the canonical price (\$0.0001) can be directly converted into gas by using the conversion factor of 852 tinycents. Add 20% markup. Thus gas cost is:

- **Base gas cost** = (1000000 + 852000 - 1) \* 1000 / 852000 = 2173 gas
- **Total Gas Cost** = 2173 x 1.2 = **2607 gas**

**Final gas cost total** = **2607 gas**

<Info>
  **Example System Contracts:**

- [Hedera Token Service](https://github.com/hashgraph/hedera-smart-contracts/blob/main/contracts/system-contracts/hedera-token-service/HederaTokenService.sol)
- [Pseudo Random Number Generator (PRNG)](https://github.com/hashgraph/hedera-smart-contracts/blob/main/contracts/system-contracts/pseudo-random-number-generator/PrngSystemContract.sol)
- [Exchange Rate](https://github.com/hashgraph/hedera-smart-contracts/blob/main/contracts/system-contracts/exchange-rate/ExchangeRateSystemContract.sol)

**Learn More:** Our detailed gas calculation [reference](https://github.com/hashgraph/hedera-services/blob/develop/hedera-node/docs/design/services/smart-contract-service/system-contract-gas-calc.md#system-contracts) explains the precise steps for calculating gas fees on Hedera.

</Info>

### Gas for Jumbo Transactions

Jumbo `EthereumTransaction` that include large `callData` under [HIP-1086](https://hips.hedera.com/hip/hip-1086) follow the same gas model as standard EVM transactions. This gas pricing applies **only** to `EthereumTransaction` type, standard HAPI transactions are unaffected.

#### **Formula**

The gas cost for `callData` is based on byte content:

```
callData gas = (4 √ó zero bytes) + (16 √ó non-zero bytes)
```

This is added to the base gas and execution gas to calculate the total gas required.

[_üì£ Learn more about Ethereum jumbo transactions_](/hedera/sdks-and-apis/sdks/smart-contracts/ethereum-transaction#handling-large-calldata-payloads)

#### **Example Calculation**

For 100KB of `callData` with 10,000 zero bytes and 90,000 non-zero bytes:

- Zero byte gas: `4 √ó 10,000 = 40,000`
- Non-zero byte gas: `16 √ó 90,000 = 1,440,000`
- **Total callData gas = 1,480,000**

Ensure both `gasLimit` (RLP) and `maxGasAllowance` (wrapper) are set high enough to cover the total.

> üîπ **Size Caps**: Jumbo `EthereumTransaction`s are capped at **24KB (creation)** and **128KB (call)**. Larger payloads require `callDataFileId`.\
> üîπ **Throttling**: Jumbo transactions are subject to dedicated operational throttling based on transaction type and complexity.

### Gas Limit

The gas limit is the maximum gas you‚Äôre willing to pay for a transaction. If a transaction‚Äôs gasLimit exceeds the network‚Äôs per‚Äëtransaction cap, it will fail precheck with `INDIVIDUAL_TX_GAS_LIMIT_EXCEEDED`. This cap (default ~15‚ÄØmillion gas per transaction) prevents any single transaction from consuming unbounded resources.

The current opcode gas fees are reflective as of the [0.22 Hedera Service release](/hedera/networks/release-notes/services#v0.22).

| Operation                                                                 | Cancun Cost (Gas)                           | Current Hedera (Gas)                        |
| ------------------------------------------------------------------------- | ------------------------------------------- | ------------------------------------------- |
| Code deposit                                                              | 200 \* bytes                                | 200 \* bytes                                |
| <p><code>BALANCE</code><br />(cold account)</p>                           | 2600                                        | 2600                                        |
| <p><code>BALANCE</code><br />(warm account)</p>                           | 100                                         | 100                                         |
| `EXP`                                                                     | 10 + 50/byte                                | 10 + 50/byte                                |
| <p><code>EXTCODECOPY</code><br />(cold account)</p>                       | 2600 + Mem                                  | 2600 + Mem                                  |
| <p><code>EXTCODECOPY</code><br />(warm account)</p>                       | 100 + Mem                                   | 100 + Mem                                   |
| <p><code>EXTCODEHASH</code><br />(cold account)</p>                       | 2600                                        | 2600                                        |
| <p><code>EXTCODEHASH</code><br />(warm account)</p>                       | 100                                         | 100                                         |
| <p><code>EXTCODESIZE</code><br />(cold account)</p>                       | 2600                                        | 2600                                        |
| <p><code>EXTCODESIZE</code><br />(warm account)</p>                       | 100                                         | 100                                         |
| <p><code>LOG0, LOG1, LOG2,</code><br /><code>LOG3, LOG4</code></p>        | <p>375 + 375\*topics<br />+ data Mem</p>    | <p>375 + 375\*topics<br />+ data Mem</p>    |
| <p><code>SLOAD</code><br />(cold slot)</p>                                | 2100                                        | 2100                                        |
| <p><code>SLOAD</code><br />(warm slot)</p>                                | 100                                         | 100                                         |
| <p><code>SSTORE</code><br />(new slot)</p>                                | 22,100                                      | 22,100                                      |
| <p><code>SSTORE</code><br />(existing slot,<br />cold access)</p>         | 2,900                                       | 2,900                                       |
| <p><code>SSTORE</code><br />(existing slot,<br />warm access)</p>         | 100                                         | 100                                         |
| <p><code>SSTORE</code><br />refund</p>                                    | As specified by the EVM                     | As specified by the EVM                     |
| <p><code>CALL</code> <em>et al</em>.<br />(cold recipient)</p>            | 2,600                                       | 2,600                                       |
| <p><code>CALL</code> <em>et al</em>.<br />(warm recipient)</p>            | 100                                         | 100                                         |
| <p><code>CALL</code> <em>et al</em>.<br />HBAR/ETH Transfer Surcharge</p> | 9,000                                       | 9,000                                       |
| <p><code>SELFDESTRUCT</code><br />(cold beneficiary)</p>                  | 2600                                        | 2600                                        |
| <p><code>SELFDESTRUCT</code><br />(warm beneficiary)</p>                  | 0                                           | 0                                           |
| `TSTORE`                                                                  | 100                                         | 100                                         |
| `TLOAD`                                                                   | 100                                         | 100                                         |
| `MCOPY`                                                                   | 3 + 3\*words_copied + memory_expansion_cost | 3 + 3\*words_copied + memory_expansion_cost |

The terms 'warm' and 'cold' in the above table correspond with whether the account or storage slot has been read or written to within the current smart contract transaction, even within a child call frame.

'`CALL` _et al._' includes with limitation: `CALL`, `CALLCODE`, `DELEGATECALL`, and `STATICCALL`

Reference: [HIP-206](https://hips.hedera.com/hip/hip-206), [HIP-865](https://hips.hedera.com/hip/hip-865)

### Operational-Based Throttling

Hedera has removed the gas‚Äëper‚Äësecond throttle. Instead, the Hedera network uses an operational-based throttling mechanism introduced in [HIP-1249](https://hips.hedera.com/hip/hip-1249) .

Key points:

- **Separate billing and throttling** ‚Äì Gas continues to determine user fees; ops are used solely for throttling.
- **Measured ops costs** ‚Äì Each EVM opcode, precompile and system‚Äëcontract call has an ops cost derived from hardware benchmarks. The network sums these costs during execution; if the ops budget is exhausted, remaining transactions fail with `THROTTLED_AT_CONSENSUS` and pay only intrinsic fees.
- **Consensus‚Äëonly throttle** ‚Äì There is no ops‚Äëbased throttle at ingest; the front end is throttled by a per‚Äëtransaction gas limit and the network‚Äôs TPS gate.
- **Higher throughput** ‚Äì Decoupling billing (gas) from limits (ops) allows throughput significantly higher than the previous 15‚ÄØmillion gas/sec default.

---

### Gas Reservation and Unused Gas Refund

Transactions still specify a `gasLimit` to reserve gas. This reservation is used for pre‚Äëcheck validation but does not throttle throughput. The actual gas used during execution may be lower.

Pre‚Äëcheck uses the `gasLimit` because the network cannot know how much gas a transaction will consume until it executes; state changes during consensus affect the execution path. Contract query requests bypass consensus entirely: they execute only on the node that receives them and influence only that node‚Äôs pre‚Äëcheck throttle. Standard contract transactions go through both pre‚Äëcheck and consensus and are subject to the ops‚Äëper‚Äësecond throttle at consensus. Pre‚Äëcheck and consensus throttles may use different limits.

<Info>

**Historical context**

Hedera previously enforced an 80% minimum gas charge because it does not have a mempool like Ethereum. Without a mempool, the network could not reorder or adjust block contents based on actual gas consumption, so the minimum charge prevented over-reservation abuse.

</Info>

Unused gas is now fully refunded; there is no 80% minimum charge. Users pay exactly for gas used, up to their specified limit. Refunds and gas handling now mirror Ethereum‚Äôs behavior (e.g., [EIP-3529](https://eips.ethereum.org/EIPS/eip-3529) refunds).

A higher `gasLimit` than needed is still common; however, it no longer incurs a minimum charge. The network still enforces the per-transaction gas cap to prevent unbounded execution.

### Updated Billing Policy

Users are charged only for the actual gas used during transaction execution. All gas handling, including refunds, works exactly as in Ethereum (following standards like [EIP-3529](https://eips.ethereum.org/EIPS/eip-3529)). This change reduces costs for transactions that overestimate gas requirements and simplifies gas estimation for developers.

---

## Execution and Throttling

During consensus execution:

1. If the ops‚Äëper‚Äësecond budget is exhausted before execution starts, the transaction fails with an out‚Äëof‚Äëblock‚Äëspace error and pays only intrinsic gas.
2. If execution succeeds, the user pays the gas used; ops are deducted from the throttle.
3. If ops are exhausted mid‚Äëexecution, the transaction fails with an out‚Äëof‚Äëblock‚Äëspace error and pays only intrinsic gas.
4. If the transaction runs out of gas before exhausting the ops budget, it fails with an out‚Äëof‚Äëgas error; the user is charged for the gas used.

---

## Maximum Gas Per Transaction

Each transaction remains capped by a per‚Äëtransaction gas limit (default \~15‚ÄØmillion gas). Gas‚Äëper‚Äësecond throttling no longer applies; overall network throughput is now governed by the ops‚Äëper‚Äësecond limit at consensus. Refer to [HIP‚Äë1249](https://hips.hedera.com/hip/hip-1249) for implementation details.

Reference: [HIP-185](https://hips.hedera.com/hip/hip-185)
